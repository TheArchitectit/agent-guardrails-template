Project Sentinel: C++ (Modern) Language ProfileVersion: 3.0.0-EnterpriseModule: 33-Lang-CPPMaps to: examples/cpp/Scope: Active enforcement of Memory Safety (RAII), Modern CMake practices, Clang-Tidy standards, and Undefined Behavior prevention.1. The Build System Adapter (CMake)C++ build systems are notoriously complex. Sentinel enforces Modern CMake (Target-based) over legacy global variable styles.1.1 The "Out-of-Source" BuildRule: Never pollute the source tree.Enforcement:Sentinel intercepts cmake . (In-source build).Action: BLOCKED.Message: "Build Hygiene: In-source builds are prohibited. Sentinel forces builds to build/."Sentinel automatically creates build/ and runs cmake -S . -B build.1.2 Target-Based Modern CMakeRule: Use target_link_libraries, not link_libraries.Enforcement:Sentinel parses CMakeLists.txt.Checks for legacy commands: include_directories(), link_libraries(), add_definitions().Action: Rejects the file.Message: "Modern CMake Violation: Use target-specific commands (e.g., target_include_directories)."2. Memory Safety (RAII & Smart Pointers)Sentinel treats "Raw Pointers" as a security vulnerability.2.1 The new/delete BanRule: No manual memory management.Enforcement:Sentinel runs clang-query or regex scans.Pattern: new MyClass or delete myPtr.Action: BLOCKED.Message: "Memory Safety Violation: Manual new/delete is banned. Use std::make_unique or std::make_shared."2.2 C-Style CastsRule: Use C++ casts.Enforcement:Sentinel runs clang-tidy check cppcoreguidelines-pro-type-cstyle-cast.Bad: (int)myFloatGood: static_cast<int>(myFloat)Action: Code fails linting checks.3. Static Analysis (Clang-Tidy)Sentinel runs a rigorous suite of static analyzers before every commit.3.1 Header HygieneRule: #pragma once over include guards.Enforcement:Sentinel checks header files.If #ifndef MY_HEADER_H is found, Sentinel suggests replacing it with #pragma once (or enforces the project standard).3.2 Undefined Behavior (UB) PreventionRule: Initialize all variables.Enforcement:Clang-Tidy cppcoreguidelines-init-variables.Bad: int x;Good: int x = 0;Action: Commit blocked if uninitialized variables are detected.4. Runtime Sanitizers (ASan / UBSan)Sentinel compiles code in "Debug/Test" mode with sanitizers enabled.4.1 AddressSanitizer (ASan)Mechanism: Sentinel injects -fsanitize=address into the build flags during run_tests.Detection:If a test crashes with "Heap-use-after-free", Sentinel captures the ASan stack trace.Feedback: "Memory Error Detected: You accessed memory after freeing it. See stack trace."4.2 ThreadSanitizer (TSan)Mechanism: For concurrent code, Sentinel injects -fsanitize=thread.Detection: Data races.Action: If a race is detected, the test is marked as FAILED even if it didn't crash.5. Dependency Management (Conan / Vcpkg)5.1 Manifest IntegrityRule: Dependencies must be declared in conanfile.txt or vcpkg.json.Enforcement:Sentinel prevents manual downloading of libraries into libs/ or 3rdparty/.If a .lib, .a, or .dll file is added to git index, Sentinel blocks it.Message: "Binary Blob Detected: Use a package manager (Conan/Vcpkg) to manage dependencies."6. Troubleshooting C++ Agents6.1 Common Failure Modes"Linker Error (LNK2019)": Agent declared a function but didn't define it, or forgot to link the library.Sentinel Fix: Analyzes nm or dumpbin output to find the missing symbol and suggests: "You missed adding target_link_libraries(MyApp Private MyLib).""Segfault (SIGSEGV)":Sentinel Fix: Automatically re-runs the failing test with gdb or lldb in batch mode, extracts the backtrace, and feeds it to the Agent.