Project Sentinel: TypeScript/Node.js ProfileVersion: 3.0.0-EnterpriseModule: 26-Lang-TypeScriptMaps to: examples/typescript/Scope: Active enforcement of strict typing, dependency lockfiles, linting rules, and React/Next.js best practices.1. The Node Toolchain AdapterSentinel detects package.json and adapts its behavior to the Node ecosystem. It supports npm, yarn, pnpm, and bun (auto-detected via lockfile).1.1 The "Strict Mode" EnforcerRule: tsconfig.json must have "strict": true.Enforcement:On sentinel init, checks tsconfig.json.If strict mode is off, Sentinel creates a Pull Request (via Agent) to enable it.Runtime: If the Agent tries to use any type:Sentinel Analysis: Regex /: any/ or as any.Action: BLOCKED.Message: "Type Safety Violation: Usage of any is prohibited. Define an interface."1.2 Lockfile IntegrityThreat: Agent installs a package but fails to commit package-lock.json.Enforcement:Sentinel runs npm install via tool.Check: After git_commit, Sentinel verifies package.json and package-lock.json are both present in the stage.Block: If only one is staged, the commit is rejected.2. Component Architecture (React/Next.js)Sentinel understands the structure of modern frontend frameworks.2.1 The "Server Component" Firewall (Next.js)Rule: Never import Server-only secrets into Client Components.Enforcement:Sentinel scans files marked with "use client".Check: Does this file import from src/server/ or src/config/secrets?Action: CRITICAL BLOCK.Message: "Security Violation: You are leaking server code to the client bundle."2.2 Component IsolationRule: Components should be atomic.Enforcement:Sentinel monitors file size.If a .tsx file exceeds 300 lines:Warning: "Component too large (Cyclomatic Complexity). Please refactor into sub-components."3. Package Management & Security3.1 The "Typosquatting" GuardThreat: Agent tries to install react-dom (correct) vs reac-dom (malicious).Enforcement:Sentinel intercepts install_package.Levenshtein Distance: It checks the requested package name against top 1000 popular packages.If distance is 1 (e.g., reqest vs request), Sentinel pauses.Prompt: "Did you mean request? You typed reqest. Confirmation required."3.2 Script Injection PreventionRule: npm scripts can conceal malware.Enforcement:When Agent edits package.json, Sentinel scans the scripts section.Pattern: curl, wget, bash, | sh.Action: BLOCKED.Message: "Security Violation: Shell execution in npm scripts is restricted."4. Linting & FormattingSentinel integrates deeply with ESLint and Prettier.4.1 The "Fix-It" LoopWorkflow:Agent writes code.Sentinel runs eslint --fix.If errors remain (e.g., "React Hook has missing dependency"), Sentinel parses the error JSON.Feedback: Sentinel feeds the ESLint error directly back into the Agent's context: "You missed count in the useEffect dependency array. Fix it."4.2 Unused ImportsRule: No dead code.Enforcement: Sentinel runs knip or checks TS errors for unused variables.Action: Automatically removes unused imports before allowing the save (Active Cleanup).5. Testing (Jest/Vitest)5.1 Snapshot HygieneRule: Do not commit massive snapshot updates blindly.Enforcement:If a PR contains > 50 changed snapshots:Alert: "Large Snapshot Update. Manual Review Required."The Agent cannot merge this PR autonomously.5.2 Test IsolationRule: Tests must clean up DOM after run.Enforcement: Checks for cleanup() in afterEach (if not handled globally).