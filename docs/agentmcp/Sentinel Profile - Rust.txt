Project Sentinel: Rust Language ProfileVersion: 3.0.0-EnterpriseModule: 30-Lang-RustMaps to: examples/rust/Scope: Active enforcement of Memory Safety, strict Cargo dependency management, and Clippy linting.1. The Cargo Toolchain AdapterSentinel wraps cargo to ensure build reproducibility and security.1.1 The Cargo.lock EnforcerRule: Libraries should commit Cargo.lock (controversial, but Sentinel strict mode enforces it for reproducibility).Enforcement:Sentinel checks .gitignore. If Cargo.lock is ignored, it warns the Agent.Update: After write_file("Cargo.toml"), Sentinel automatically runs cargo check to update the lockfile immediately.1.2 Crate AuditingMechanism: Sentinel integrates cargo-audit.Flow:Agent adds dependency serde.Sentinel runs cargo audit.If a vulnerability is found in the dependency tree, the write_file is reverted.Message: "Security Block: serde version 1.0.0 has a known vulnerability (RUSTSEC-202X-YYYY). Use 1.0.1."2. Memory Safety & Unsafe CodeRust is safe, unless you tell it not to be. Sentinel minimizes the "Unless."2.1 The unsafe BlockadeRule: Usage of unsafe {} is prohibited without Admin Override.Enforcement:Sentinel parses the AST of modified .rs files.Check: Presence of unsafe keyword.Action: BLOCKED.Message: "Memory Safety Violation: unsafe blocks are restricted. If you effectively need this, call request_unsafe_approval(reason='FFI')."2.2 Panic PreventionRule: Avoid .unwrap() and .expect() in production code. Handle errors.Enforcement:Sentinel runs cargo clippy.Lint: clippy::unwrap_used.Action: If triggered in src/ (not tests/), Sentinel rejects the code.Prompt: "Do not crash the app. Use match or ? operator instead of unwrap()."3. Code Quality (Clippy & Fmt)3.1 The Pedantic LinterConfig: Sentinel injects a standard clippy.toml.Level: warn(clippy::pedantic).Enforcement:The Agent cannot commit if cargo clippy returns warnings.Auto-Fix: Sentinel runs cargo clippy --fix where possible.3.2 FormattingRule: rustfmt is law.Enforcement:Sentinel runs cargo fmt on every file save.This prevents "style war" commits.4. Testing & Documentation4.1 Doc TestsRule: Public functions must have documentation examples.Enforcement:Sentinel checks for /// comments on pub fn.It runs cargo test --doc to ensure the examples in the comments actually compile.Block: If the documentation example fails to compile, the commit is blocked.4.2 Integration TestsLayout: Tests must be in tests/ directory for integration scope.Enforcement:If Agent puts a test file in src/bin/, Sentinel suggests moving it to tests/ for better compilation caching.5. Troubleshooting Rust Agents5.1 The Borrow Checker LoopProblem: Agents often struggle with Rust's ownership rules, getting stuck in a loop of trying to fix lifetime errors.Sentinel Intervention:Trigger: 3 failed compilations with E0382 (Use of moved value).Action: Sentinel pauses the Agent.Injection: Injects a "Rust Ownership Hint": "You are trying to use a moved value. Consider .clone() or passing by reference &."5.2 Compile TimesProblem: cargo build is slow.Optimization: Sentinel mounts sccache if available to speed up Agent feedback loops.