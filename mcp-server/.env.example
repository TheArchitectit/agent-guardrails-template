# Guardrail MCP Server - Environment Configuration
# Copy this file to .env and fill in sensitive values
# =============================================================================

# =============================================================================
# REQUIRED: Security Keys
# =============================================================================

# API key for MCP protocol clients (Claude Code, OpenCode, etc.)
# Generate with: openssl rand -hex 32
MCP_API_KEY=

# API key for IDE extensions (VS Code, JetBrains)
# Generate with: openssl rand -hex 32
IDE_API_KEY=

# JWT secret for session tokens (min 32 bytes, high entropy)
# Generate with: openssl rand -hex 32
JWT_SECRET=

# =============================================================================
# REQUIRED: PostgreSQL Database
# =============================================================================

DB_PASSWORD=
DB_HOST=postgres
DB_PORT=5432
DB_NAME=guardrails
DB_USER=guardrails
DB_SSLMODE=require

# =============================================================================
# REQUIRED: Redis Cache
# =============================================================================

REDIS_PASSWORD=
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_USE_TLS=true

# =============================================================================
# Server Configuration
# =============================================================================

MCP_PORT=8080
WEB_PORT=8081
WEB_ENABLED=true
LOG_LEVEL=info
REQUEST_TIMEOUT=30s

# =============================================================================
# JWT Configuration
# =============================================================================

JWT_ISSUER=guardrail-mcp
JWT_EXPIRY=15m
JWT_ROTATION_HOURS=168

# =============================================================================
# Rate Limiting (requests per minute)
# =============================================================================

MCP_RATE_LIMIT=1000
IDE_RATE_LIMIT=500
SESSION_RATE_LIMIT=100

# =============================================================================
# Cache TTL
# =============================================================================

CACHE_TTL_RULES=5m
CACHE_TTL_DOCS=10m
CACHE_TTL_SEARCH=2m

# =============================================================================
# Feature Flags
# =============================================================================

ENABLE_VALIDATION=true
